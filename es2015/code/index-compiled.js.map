{
  "version": 3,
  "sources": [
    "index.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "index-compiled.js",
  "sourcesContent": [
    "/**\r\n * Created by user on 13.07.2016.\r\n */\r\n\"use strict\";\r\n\r\nclass Fighter {\r\n    /**\r\n     * @param {string} name\r\n     * @param {number} power\r\n     * @param {number} health\r\n     */\r\n    constructor(name=\"Fighter\", power=1, health=100) {\r\n        this.name = name;\r\n        this.power = power;\r\n        this.health = health;\r\n        this.maxHealth = health;\r\n    }\r\n\r\n    isDead() {\r\n        return this.health <= 0;\r\n    }\r\n    /**\r\n     * @param {number} damage\r\n     * @return {Fighter} this\r\n     */\r\n    setDamage(damage) {\r\n        this.health -= damage;\r\n        if (this.health < 0) {\r\n            this.health = 0;\r\n        }\r\n        console.log(`${this.name}'s health is ${this.healthDesc()} now`);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @param {number} point\r\n     * @param {Fighter} enemy\r\n     * @return {Fighter} this\r\n     */\r\n    hit(enemy, point) {\r\n        let damage = point * this.power;\r\n        console.log(`${this.name} (${enemy.healthDesc()}) ` +\r\n            `hits ${enemy.name} (${enemy.healthDesc()}) ` +\r\n            `for ${damage} damage`);\r\n        enemy.setDamage(damage);\r\n        if (enemy.isDead()) {\r\n            throw new GotWinnerException(this, enemy);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    healthDesc() {\r\n        return `${this.health}/${this.maxHealth}`;\r\n    }\r\n}\r\n\r\nclass ImprovedFighter extends Fighter {\r\n    /**\r\n     * @param {string} name\r\n     * @param {number} power\r\n     * @param {number} health\r\n     */\r\n    constructor(name = \"Improved Fighter\", power = 2, health = 150) {\r\n        super(name, power, health);\r\n    }\r\n\r\n    /**\r\n     * @param {Fighter} enemy\r\n     * @param {number} point\r\n     * @return {ImprovedFighter} this\r\n     */\r\n    doubleHit(enemy, point) {\r\n        super.hit(enemy, point * 2);\r\n        return this;\r\n    }\r\n}\r\nclass GotWinnerException /*extends Error*/ {\r\n    /**\r\n     *\r\n     * @param {Fighter} winner\r\n     * @param {Fighter} looser\r\n     */\r\n    constructor(winner, looser) {\r\n        //super();\r\n        this.winner = winner;\r\n        this.looser = looser;\r\n    }\r\n\r\n    printResult() {\r\n        console.log(\r\n            `Fight results:\\n` +\r\n            `   Winner is ${this.winner.name} (${this.winner.healthDesc()})\\n` +\r\n            `   Looser is ${this.looser.name} (${this.looser.healthDesc()})`);\r\n    }\r\n}\r\n/**\r\n * @param {Fighter} fighter\r\n * @param {ImprovedFighter|Fighter} improvedFighter\r\n * @param {Array<number>} points\r\n */\r\nlet fight = (fighter, improvedFighter, ...points) => {\r\n    console.log(`Begins battle between ${fighter.name} and ${improvedFighter.name}`);\r\n    let doBattle = () => {\r\n        for (let i = 0; i < points.length; i += 2) {\r\n            fighter.hit(improvedFighter, points[i]);\r\n            if (i + 1 < points.length)\r\n                improvedFighter.hit(fighter, points[i + 1]);\r\n        }\r\n    };\r\n    try {\r\n        doBattle();\r\n        console.log(\"No winner!\")\r\n    } catch (e) {\r\n        if (e instanceof GotWinnerException)\r\n            e.printResult();\r\n        else throw e;\r\n    } finally {\r\n        console.log(\"Fight ends\")\r\n    }\r\n};\r\n\r\nlet fighter = new Fighter(\"fighter\", 2, 100);\r\n\r\nlet improvedFighter = new ImprovedFighter(\"improvedFighter\", 3, 100);\r\nfight(fighter, improvedFighter, 25, 13, 45, 20, 10, 25);\r\n\r\nlet fighter2 = new Fighter(\"fighter2\", 3, 200);\r\nlet fighter3 = new Fighter(\"fighter3\", 4, 300);\r\nfight(fighter2, fighter3, 25, 31, 1);\r\n"
  ]
}